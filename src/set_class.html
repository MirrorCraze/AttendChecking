<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <title>Set Class</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.2.1/css/bootstrap.min.css" integrity="sha384-GJzZqFGwb1QTTN6wy59ffF1BuGJpLSa9DkKMp0DgiMDm4iYMj70gZWKYbI706tWS" crossorigin="anonymous">
    <link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Montserrat">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <style>
    .w3-sidebar a {font-family: "Roboto", sans-serif}
    body,h1,h2,h3,h4,h5,h6,.w3-wide {font-family: "Montserrat", sans-serif;}
    h1{color: white}
    .spacing {
      width: auto;
      margin-left: 42%;
      margin-right: 13%;
    }
    @media only screen and (max-width: 993px) {
      .spacing{
        margin-left: 25%;
        margin-right: 25%;
      }
    }
    html {
      position: fixed;
      height: 100%;
      width: 100%;
    }
    form {
      margin-bottom: 25%;
      padding: 10% 20%;
      background-color: rgba(255, 255, 255, 0.5);
    }
    .fixx {
      margin-top: 20vh;
      color: white;
      font-style: italic;
    }
    body {
      height: 100%;
      width: 100%;
      background-image: url("https://www.lifeskills4kids.com.au/wp-content/uploads/2018/02/Identifying-Sensory-Issues-that-Impact-Learning-in-the-Classroom-610x353.jpg");
      background-repeat: no-repeat;
      background-size: cover;
      background-position: center;
    }
    </style>
  </head>
  <body>
    <!-- Top menu on small screens -->
       <header class="w3-bar w3-top w3-hide-large w3-black w3-xlarge">
         <div class="w3-bar-item w3-padding-24 w3-wide">FACECORD</div>
         <a href="javascript:void(0)" class="w3-bar-item w3-button w3-padding-24 w3-right" onclick="w3_open()"><i class="fa fa-bars"></i></a>
       </header>
       <!-- Sidebar/menu -->
       <nav class="w3-sidebar w3-bar-block w3-white w3-collapse w3-top" style="z-index:3;width:250px" id="mySidebar">
         <div class="w3-container w3-display-container w3-padding-16">
           <i onclick="w3_close()" class="fa fa-remove w3-hide-large w3-button w3-display-topright"></i>
           <h3 class="w3-wide"><b>FACECORD</b></h3>
         </div>

         <div class="w3-padding-64 w3-large w3-text-grey" style="font-weight:bold">
           <a href="index.html" class="w3-bar-item w3-button w3-padding">MainPage</a>
           <a onclick="myAccFunc('NewTask')" href="javascript:void(0)" class="w3-button w3-block w3-white w3-left-align" id="myBtn">
             Create new task <i class="fa fa-caret-down"></i>
           </a>
           <div id="NewTask" class="w3-bar-block w3-hide w3-padding-large w3-medium">
             <a href="set_class.html" class="w3-bar-item w3-button">Classroom</a>
             <a href="set_exam.html" class="w3-bar-item w3-button">Examination</a>
           </div>
           <a onclick="myAccFunc('TaskHistory')" href="javascript:void(0)" class="w3-button w3-block w3-white w3-left-align" id="myBtn">
             Task History <i class="fa fa-caret-down"></i>
           </a>
           <div id="TaskHistory" class="w3-bar-block w3-hide w3-padding-large w3-medium">
             <a href="prev_sess.html" class="w3-bar-item w3-button">Pending task</a>
             <a href="exp_fin_sess.html" class="w3-bar-item w3-button">Export finished task</a>
           </div>
         <a href="#footer" class="w3-bar-item w3-button w3-padding">Contact</a>
         <a href="login.html" class="w3-bar-item w3-button w3-padding">Logout</a>
       </nav>
    <div class="fill_in spacing">
      <h1 class="fixx">Class Setting</h1>
      <form class="form" action="index.html" method="post" onsubmit="return save_json()">
        <label for="class">Class : </label>
        <select id="class" name="class">
          <option value="CB2300">CB2300</option>
          <option value="CS1102">CS1102</option>
          <option value="CS2204">CS2204</option>
        </select>
        <div>
        <label for="time_start">Recording start</label>
        <input type="time" name="time_start" value="09:00">
        </div>
        <div>
        <label for="time_stop">Recording stop</label>
        <input type="time" name="time_stop" value="09:30">
        </div>
        <div>
        <label for="time_late">Late entrance</label>
        <input type="time" name="time_late" value="09:15">
        </div>
        <div>
        <label for="date">Class</label>
        <select name="date" id = "date">
          <option value="sun">Sunday</option>
          <option value="mon">Monday</option>
          <option value="tue">Tuesday</option>
          <option value="wed">Wednesday</option>
          <option value="thu">Thursday</option>
          <option value="fri">Friday</option>
          <option value="sat">Saturday</option>
        </select>
        </div>
        <input type="hidden" name="type" value="class">
        <input type="submit" name="submit" value="submit">
      </form>
    </div>
    <script>
    // Accordion
    function myAccFunc(id) {
      var x = document.getElementById(id);
      if (x.className.indexOf("w3-show") == -1) {
        x.className += " w3-show";
      } else {
        x.className = x.className.replace(" w3-show", "");
      }
    }

    // Click on the "Jeans" link on page load to open the accordion for demo purposes
    document.getElementById("myBtn").click()


    // Open and close sidebar
    function w3_open() {
      document.getElementById("mySidebar").style.display = "block";
      document.getElementById("myOverlay").style.display = "block";
    }

    function w3_close() {
      document.getElementById("mySidebar").style.display = "none";
      document.getElementById("myOverlay").style.display = "none";
    }
    function save_json()
      {
        var input_list = document.querySelectorAll('input');
        var len = input_list.length;
        //alert(input_list);
        var nam,val;
        var data = [];
        var obj = {};
        var cla = document.querySelector('#class');
        var text = cla.options[cla.selectedIndex].value;
        //alert(text);
        obj["class"] = text;
        /*obj.name = "class";
        obj.value = text;*/
        //data.push(obj);
        //alert(obj);
        var dat = document.querySelector('#date');
        var day = dat.options[cla.selectedIndex].value;
        /*obj.name = "date";
        obj.value = day;*/
        obj["date"] = day;
        //data.push(obj);
        for(var i = 0;i<len-1;i++) //exclude submit
        {
          console.log(input_list[i].name);

          /*obj.name = input_list[i].name;
          obj.value = input_list[i].value;*/

          obj[input_list[i].name] = input_list[i].value;
          //data.push(obj);
          //alert(obj.value);
        }
        //alert(data['class']);
        localStorage.setItem(text +"class",JSON.stringify(obj));
        //alert(data);
      }
    </script>
  </body>
</html>
